{
  "code": "import { Admin, Click, EventAdmin, Backpack, Dialog, Animation2D } from \"../Frame/lwg\";\r\nimport { Game3D } from \"./Game3D\";\r\nimport ADManager from \"../../TJ/Admanager\";\r\nexport default class UICard extends Admin.Scene {\r\n    lwgOnEnable() {\r\n        this.self['BtnBack'].alhpa = 0;\r\n        this.self['BtnBack'].visible = false;\r\n        Laya.timer.once(4500, this, () => {\r\n            Animation2D.fadeOut(this.self['BtnBack'], 0, 1, 300, 0, () => {\r\n                this.self['BtnBack'].visible = true;\r\n            });\r\n        });\r\n    }\r\n    lwgAdaptive() {\r\n        this.self['BtnGold'].y = this.self['BtnAds'].y = Laya.stage.height - 156;\r\n    }\r\n    lwgBtnClick() {\r\n        Click.on(Click.Type.largen, this.self['BtnBack'], this, null, null, () => {\r\n            Admin._openScene(Admin.SceneName.UIStart, this.self);\r\n            EventAdmin.notify(Game3D.EventType.closeUICard);\r\n        });\r\n        var buy = (type) => {\r\n            let arr = Game3D.getQualityObjArrByNameArr(Backpack._noHaveCard.arr, Game3D.Quality.R);\r\n            if (arr.length > 0) {\r\n                if (type == 'ads') {\r\n                    ADManager.ShowReward(() => {\r\n                        EventAdmin.notify(Game3D.EventType.UICardBuy, [arr]);\r\n                    });\r\n                }\r\n                else if (type == 'gold') {\r\n                    EventAdmin.notify(Game3D.EventType.UICardBuy, [arr]);\r\n                }\r\n            }\r\n            else {\r\n                Dialog.createHint_Middle(Dialog.HintContent[\"没有可以购买的卡牌了！\"]);\r\n            }\r\n        };\r\n        Click.on(Click.Type.largen, this.self['BtnAds'], this, null, null, () => {\r\n            buy('ads');\r\n        });\r\n        Click.on(Click.Type.largen, this.self['BtnGold'], this, null, null, () => {\r\n            buy('gold');\r\n        });\r\n    }\r\n    onStageMouseDown(e) {\r\n        if (!this['firstPos']) {\r\n            this['firstPos'] = new Laya.Point(Laya.stage.mouseX, Laya.stage.mouseX);\r\n        }\r\n    }\r\n    onStageMouseMove(e) {\r\n        if (this['firstPos']) {\r\n            let diffX = this['firstPos'].x - Laya.stage.mouseX;\r\n            if (diffX > 0) {\r\n                EventAdmin.notify(Game3D.EventType.UICardMove, ['add']);\r\n            }\r\n            else {\r\n                EventAdmin.notify(Game3D.EventType.UICardMove, ['sub']);\r\n            }\r\n        }\r\n    }\r\n    onStageMouseUp(e) {\r\n        if (this['firstPos']) {\r\n            this['firstPos'] = null;\r\n        }\r\n    }\r\n}\r\n",
  "references": [
    "D:/Game/project/Who/Project/Who/src/script/Frame/lwg.ts",
    "D:/Game/project/Who/Project/Who/src/script/Game/Game3D.ts",
    "D:/Game/project/Who/Project/Who/src/TJ/Admanager.ts"
  ]
}
