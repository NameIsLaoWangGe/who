{
  "code": "import { SkinQualified, Gold, Setting, Click, Dialog, EventAdmin, Animation2D, Admin, Backpack, TimerAdmin, Effects, Color } from \"../Frame/lwg\";\r\nimport ADManager, { TaT } from \"../../TJ/Admanager\";\r\nimport { Game3D } from \"./Game3D\";\r\nexport default class UISkinQualified extends SkinQualified.SkinQualifiedScene {\r\n    lwgOnAwake() {\r\n        ADManager.TAPoint(TaT.BtnShow, 'Adlimmitget');\r\n        Gold.goldVinish();\r\n        Setting.setBtnVinish();\r\n        if (SkinQualified._adsNum.value >= 7) {\r\n            this.self['BtnGet'].visible = false;\r\n            this.self['AlreadyGet'].visible = true;\r\n        }\r\n        else {\r\n            this.self['AlreadyGet'].visible = false;\r\n            this.self['BtnGet'].visible = true;\r\n            this.self['AdsNum'].value = SkinQualified._adsNum.value.toString();\r\n        }\r\n    }\r\n    lwgAdaptive() {\r\n        this.self['SceneContent'].y = Laya.stage.height / 2;\r\n        this.self['Logo1Set'].y = Laya.stage.height * 0.096;\r\n    }\r\n    lwgOnEnable() {\r\n        TimerAdmin.frameLoop(1, this, () => {\r\n            this.self['Guang2'].rotation += 0.7;\r\n            this.self['Guang1'].rotation -= 0.3;\r\n        });\r\n        this.self['Guang1'].alpha = 0;\r\n        this.self['Guang2'].alpha = 0;\r\n        Animation2D.fadeOut(this.self['Guang1'], 0, 1, 1000, 300);\r\n        Animation2D.fadeOut(this.self['Guang2'], 0, 1, 1000, 300);\r\n        TimerAdmin.loop(2000, this, () => {\r\n            Animation2D.bomb_LeftRight(this.self['BtnGet'], 1.1, 250);\r\n        }, true);\r\n        TimerAdmin.frameRandomLoop(40, 60, this, () => {\r\n            Effects.blink_Star(this.self['StarParent1'], new Laya.Point(0, 0), 80, 100, 'Game/UI/UISkinQualified/xingxing.png', 80, 80);\r\n        }, true);\r\n        TimerAdmin.frameRandomLoop(40, 60, this, () => {\r\n            Effects.blink_Star(this.self['StarParent2'], new Laya.Point(0, 0), 80, 100, 'Game/UI/UISkinQualified/xingxing.png', 80, 80);\r\n        }, true);\r\n        TimerAdmin.frameRandomLoop(50, 80, this, () => {\r\n            Effects.blink_Star(this.self['StarParent3'], new Laya.Point(0, 0), 300, 50, 'Game/UI/UISkinQualified/xingxing.png', 80, 80);\r\n        }, true);\r\n        TimerAdmin.frameLoop(60, this, () => {\r\n            Animation2D.move_Simple(this.self['Logo1Liuguang'], -53, 0, 450, 65, 500, 200);\r\n        }, true);\r\n        this.self['Logo1Set'].alpha = 0;\r\n        Laya.timer.frameOnce(80, this, () => {\r\n            Animation2D.fadeOut(this.self['Logo1Set'], 0, 1, 150, null, () => {\r\n                TimerAdmin.frameLoop(130, this, () => {\r\n                    Color.changeConstant(this.self['Logo1Set'], [0, 0, 0], [255, 255, 255], 120);\r\n                }, true);\r\n            });\r\n        });\r\n        TimerAdmin.frameRandomLoop(10, 30, this, () => {\r\n            Effects.particle_FallingVertical(this.self['FallParent']);\r\n        }, true);\r\n        this.self['Logo2'].scale(0, 0);\r\n        Animation2D.bombs_Appear(this.self['Logo2'], 0, 1, 1.1, 0, 200, 100, 500, () => {\r\n            TimerAdmin.frameLoop(200, this, () => {\r\n                Animation2D.swell_shrink(this.self['Logo2'], 1, 1.05, 200);\r\n            }, true);\r\n        });\r\n        for (let i = 1; i < 8; i++) {\r\n            const Card = this.self['CardParent'].getChildByName(\"Card\" + i);\r\n            let Color = Card.getChildByName('Color');\r\n            EventAdmin.notify('cardZOder', [Card, i]);\r\n            Card.y = -1000;\r\n            if (i == 1) {\r\n                Color.alpha = 0;\r\n            }\r\n            else if (i == 2 || i == 7) {\r\n                Card.scale(0.95, 0.95);\r\n                Color.alpha = 0.3;\r\n            }\r\n            else if (i == 3 || i == 6) {\r\n                Card.scale(0.9, 0.9);\r\n                Color.alpha = 0.3;\r\n            }\r\n            else if (i == 4 || i == 5) {\r\n                Card.scale(0.85, 0.85);\r\n                Color.alpha = 0.3;\r\n            }\r\n        }\r\n        for (let i = 1; i < 8; i++) {\r\n            const Card = this.self['CardParent'].getChildByName(\"Card\" + i);\r\n            let arr = [];\r\n            if (i == 1) {\r\n                arr = [331, 262];\r\n            }\r\n            else if (i == 2 || i == 7) {\r\n                arr = [282, 309];\r\n            }\r\n            else if (i == 3 || i == 6) {\r\n                arr = [241, 346];\r\n            }\r\n            else if (i == 4 || i == 5) {\r\n                arr = [214, 385];\r\n            }\r\n            Animation2D.move_Simple(Card, Card.x, Card.y, Card.x, arr[1], 500, (i - 1) * 200, () => {\r\n                if (i == 7) {\r\n                    EventAdmin.notify('cardLight');\r\n                    EventAdmin.notify('zhuanpan');\r\n                }\r\n            }, Laya.Ease.cubicInOut);\r\n        }\r\n    }\r\n    lwgEventReg() {\r\n        EventAdmin.reg('zhuanpan', this, () => {\r\n            TimerAdmin.frameLoop(150, this, () => {\r\n                for (let i = 1; i < 8; i++) {\r\n                    const Card = this.self['CardParent'].getChildByName(\"Card\" + i);\r\n                    let index0 = (i + 1) > 7 ? 1 : (i + 1);\r\n                    const Card0 = this.self['CardParent'].getChildByName(\"Card\" + index0);\r\n                    let time = 500;\r\n                    let scale0 = 1;\r\n                    if (index0 == 1) {\r\n                    }\r\n                    else if (index0 == 2 || index0 == 7) {\r\n                        scale0 = 0.95;\r\n                    }\r\n                    else if (index0 == 3 || index0 == 6) {\r\n                        scale0 = 0.9;\r\n                    }\r\n                    else if (index0 == 4 || index0 == 5) {\r\n                        scale0 = 0.85;\r\n                    }\r\n                    Animation2D.move_Scale(Card, Card.scaleX, Card.x, Card.y, Card0.x, Card0.y, scale0, time, 0);\r\n                    let alpha0 = 0.6;\r\n                    let fColorAlpha = 1;\r\n                    let eColorAlpha = 0.5;\r\n                    switch (i) {\r\n                        case 1:\r\n                            alpha0 = 0.1;\r\n                            fColorAlpha = 0;\r\n                            eColorAlpha = 0.3;\r\n                            break;\r\n                        case 7:\r\n                            alpha0 = 1;\r\n                            fColorAlpha = 0.3;\r\n                            eColorAlpha = 0;\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    Animation2D.fadeOut(Card.getChildByName('Color'), fColorAlpha, eColorAlpha, time);\r\n                    Animation2D.fadeOut(Card, 1, alpha0, time, 0, () => {\r\n                        Card.name = 'Card' + index0;\r\n                        if (i == 7) {\r\n                            for (let j = 1; j < 8; j++) {\r\n                                const Card1 = this.self['CardParent'].getChildByName(\"Card\" + j);\r\n                                if (!Card1) {\r\n                                    return;\r\n                                }\r\n                                EventAdmin.notify('cardLight');\r\n                                EventAdmin.notify('cardZOder', [Card1, j]);\r\n                            }\r\n                        }\r\n                        Animation2D.fadeOut(Card, alpha0, 1, time, 0);\r\n                    });\r\n                }\r\n            });\r\n        });\r\n        EventAdmin.reg('cardLight', this, () => {\r\n            Color.changeOnce(this.self['CardParent'].getChildByName('Card1'), [90, 60, 0], 20);\r\n        });\r\n        EventAdmin.reg('cardZOder', this, (Card, index) => {\r\n            switch (index) {\r\n                case 1:\r\n                    Card.zOrder = 7;\r\n                    break;\r\n                case 2:\r\n                    Card.zOrder = 5;\r\n                    break;\r\n                case 3:\r\n                    Card.zOrder = 3;\r\n                    break;\r\n                case 4:\r\n                    Card.zOrder = 1;\r\n                    break;\r\n                case 5:\r\n                    Card.zOrder = 2;\r\n                    break;\r\n                case 6:\r\n                    Card.zOrder = 4;\r\n                    break;\r\n                case 7:\r\n                    Card.zOrder = 6;\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        });\r\n    }\r\n    lwgBtnClick() {\r\n        Click.on(Click.Type.largen, this.self['BtnGet'], this, null, null, () => {\r\n            ADManager.ShowReward(() => {\r\n                ADManager.TAPoint(TaT.BtnClick, 'Adlimmitget');\r\n                SkinQualified._adsNum.value++;\r\n                if (SkinQualified._adsNum.value >= 7) {\r\n                    Backpack._haveCardArray.add(Game3D.getNameArrByObjArr(Game3D.getCardObjByQuality(Game3D.Quality.UR)));\r\n                    Dialog.createHint_Middle(Dialog.HintContent[\"限定皮肤已经获得，请前往皮肤界面查看。\"]);\r\n                    Animation2D.fadeOut(this.self, 1, 0, 500, 500, () => {\r\n                        Admin._closeScene(this.self);\r\n                    });\r\n                }\r\n                this.self['AdsNum'].value = SkinQualified._adsNum.value.toString();\r\n            });\r\n        });\r\n        Click.on(Click.Type.largen, this.self['BtnBack'], this, null, null, () => {\r\n            Admin._closeScene(this.self);\r\n        });\r\n    }\r\n    lwgOnDisable() {\r\n        Setting.setBtnAppear();\r\n        Gold.goldAppear();\r\n    }\r\n}\r\n",
  "references": [
    "D:/Game/project/Who/Project/Who/src/script/Game/UIStart.ts",
    "D:/Game/project/Who/Project/Who/src/script/Frame/lwg.ts",
    "D:/Game/project/Who/Project/Who/src/TJ/Admanager.ts",
    "D:/Game/project/Who/Project/Who/src/script/Game/Game3D.ts"
  ]
}
