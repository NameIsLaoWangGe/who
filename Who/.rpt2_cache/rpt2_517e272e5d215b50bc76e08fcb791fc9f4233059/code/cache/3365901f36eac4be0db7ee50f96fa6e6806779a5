{
  "code": "import { Admin, Shop, Click } from \"../Frame/lwg\";\r\nexport default class UISkinTry extends Admin.Scene {\r\n    lwgOnAwake() {\r\n        this.randomNoHave();\r\n        if (Admin._platform == Admin._platformTpye.OPPO) {\r\n            this.self['BtnGet_OPPO'].visible = true;\r\n            this.self['BtnGet_WeChat'].visible = false;\r\n        }\r\n        else {\r\n            this.self['BtnGet_OPPO'].visible = false;\r\n            this.self['BtnGet_WeChat'].visible = true;\r\n        }\r\n    }\r\n    randomNoHave() {\r\n        let arrOther = Shop.getwayGoldArr(Shop.GoodsClass.Other, undefined, true);\r\n        let arrProp = Shop.getwayGoldArr(Shop.GoodsClass.Props, undefined, true);\r\n        let ele;\r\n        let hair;\r\n        let beard;\r\n        if (hair) {\r\n            console.log('本关有剃头任务！');\r\n        }\r\n        if (beard) {\r\n            console.log('本关剃胡须任务！');\r\n        }\r\n        if (hair && beard) {\r\n            if (Math.floor(Math.random() * 2) === 1) {\r\n                this.randomProp();\r\n            }\r\n            else {\r\n                this.randomOther();\r\n            }\r\n        }\r\n        else if (hair && !beard) {\r\n            this.randomProp();\r\n        }\r\n        else if (!hair && beard) {\r\n            this.randomOther();\r\n        }\r\n    }\r\n    randomOther() {\r\n        let ele;\r\n        let arrOther = Shop.getwayGoldArr(Shop.GoodsClass.Other, undefined, true);\r\n        ele = arrOther[Math.floor(Math.random() * arrOther.length)];\r\n        this.self['SkinPic'].skin = 'UI/Shop/Other/' + ele.name + '.png';\r\n        this.beforeTryOtherName = Shop._currentOther.name;\r\n        Shop._currentOther.name = ele.name;\r\n    }\r\n    randomProp() {\r\n        let ele;\r\n        let arrProp = Shop.getwayGoldArr(Shop.GoodsClass.Props, undefined, true);\r\n        ele = arrProp[Math.floor(Math.random() * arrProp.length)];\r\n        this.self['SkinPic'].skin = 'UI/Shop/Props/' + ele.name + '.png';\r\n        this.beforeTryPropName = Shop._currentProp.name;\r\n        Shop._currentProp.name = ele.name;\r\n    }\r\n    lwgBtnClick() {\r\n        Click.on(Click.Type.largen, this.self['BtnNo'], this, null, null, this.btnNoUp);\r\n        Click.on(Click.Type.largen, this.self['BtnGet_WeChat'], this, null, null, this.btnGetUp);\r\n        Click.on(Click.Type.largen, this.self['BtnGet_OPPO'], this, null, null, this.btnGetUp);\r\n    }\r\n    btnGetUp(event) {\r\n    }\r\n    btnNoUp(event) {\r\n        if (this.beforeTryOtherName) {\r\n            Shop._currentOther.name = this.beforeTryOtherName;\r\n        }\r\n        if (this.beforeTryPropName) {\r\n            Shop._currentProp.name = this.beforeTryPropName;\r\n        }\r\n    }\r\n    lwgOnDisable() {\r\n        if (this.beforeTryOtherName) {\r\n            Shop._currentOther.name = this.beforeTryOtherName;\r\n        }\r\n        if (this.beforeTryPropName) {\r\n            Shop._currentProp.name = this.beforeTryPropName;\r\n        }\r\n    }\r\n}\r\n",
  "references": [
    "D:/Game/project/Who/Project/Who/src/script/Frame/lwg.ts"
  ]
}
