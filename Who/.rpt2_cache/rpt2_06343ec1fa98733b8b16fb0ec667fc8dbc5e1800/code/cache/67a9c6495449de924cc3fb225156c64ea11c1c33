{
  "code": "import { lwg, Click, EventAdmin, Task, Gold, Setting } from \"../Lwg_Template/lwg\";\r\nimport ADManager, { TaT } from \"../TJ/Admanager\";\r\nimport { GVariate } from \"../Lwg_Template/Global\";\r\nexport default class UITask extends lwg.Task.TaskScene {\r\n    taskOnAwake() {\r\n        console.log(Laya.stage);\r\n        ADManager.TAPoint(TaT.BtnShow, 'Adtask');\r\n        GVariate._stageClick = false;\r\n        Setting.setBtnVinish();\r\n    }\r\n    taskEventReg() {\r\n        EventAdmin.reg(Task.EventType.getAward, this, (dataSource) => {\r\n            Gold.getGoldAni_Heap(Laya.stage, 15, 88, 69, 'UI/GameStart/qian.png', new Laya.Point(Laya.stage.width / 2, Laya.stage.height / 2), new Laya.Point(Gold.GoldNode.x - 80, Gold.GoldNode.y), null, () => {\r\n                Task.setTaskProperty(Task.TaskClass.everyday, dataSource.name, Task.TaskProperty.get, -1);\r\n                Gold.addGold(dataSource[Task.TaskProperty.rewardNum]);\r\n                Task._TaskList.refresh();\r\n            });\r\n        });\r\n        EventAdmin.reg(Task.EventType.adsGetAward_Every, this, (dataSource) => {\r\n            ADManager.ShowReward(() => {\r\n                ADManager.TAPoint(TaT.BtnClick, 'Adtask');\r\n                Gold.getGoldAni_Heap(Laya.stage, 15, 88, 69, 'UI/GameStart/qian.png', new Laya.Point(Laya.stage.width / 2, Laya.stage.height / 2), new Laya.Point(Gold.GoldNode.x - 80, Gold.GoldNode.y), null, () => {\r\n                    Gold.addGold(Task.getTaskProperty(Task.TaskClass.everyday, dataSource.name, Task.TaskProperty.rewardNum));\r\n                    Task._TaskList.refresh();\r\n                });\r\n            });\r\n        });\r\n    }\r\n    taskList_Update(cell, index) {\r\n        let dataSource = cell.dataSource;\r\n        let Name = cell.getChildByName('Name');\r\n        Name.text = dataSource.name;\r\n        let BtnGet = cell.getChildByName('BtnGet');\r\n        if (dataSource.get === 0) {\r\n            BtnGet.skin = 'UI/Task/jinxing.png';\r\n        }\r\n        else if (dataSource.get === 1) {\r\n            BtnGet.skin = 'UI/Task/linqu.png';\r\n        }\r\n        else if (dataSource.get === -1) {\r\n            BtnGet.skin = 'UI/Task/yilingqu.png';\r\n        }\r\n        let ProgressBar = cell.getChildByName('ProgressBar');\r\n        ProgressBar.width = dataSource.resCondition / dataSource.condition * 169;\r\n        let ProNum = cell.getChildByName('ProNum');\r\n        ProNum.text = dataSource.resCondition + '/' + dataSource.condition;\r\n        let AwardNum = cell.getChildByName('AwardNum');\r\n        AwardNum.text = dataSource.rewardNum;\r\n        if (index === 0) {\r\n            ProgressBar.width = 169;\r\n            ProNum.text = '1/1';\r\n            BtnGet.skin = 'UI/Task/adslingqu.png';\r\n        }\r\n    }\r\n    lwgBtnClick() {\r\n        Click.on(Click.Type.largen, this.self['BtnBack'], this, null, null, this.btnBackUp);\r\n    }\r\n    ;\r\n    btnBackUp() {\r\n        this.self.close();\r\n    }\r\n    taskOnDisable() {\r\n        Setting.setBtnAppear();\r\n        GVariate._stageClick = true;\r\n    }\r\n}\r\n",
  "references": [
    "D:/Game/project/CutHair/Project/CutHair/src/script/Lwg_Template/lwg.ts",
    "D:/Game/project/CutHair/Project/CutHair/src/script/TJ/Admanager.ts",
    "D:/Game/project/CutHair/Project/CutHair/src/script/Lwg_Template/Global.ts"
  ]
}
