{
  "code": "import { lwg, Gold, EventAdmin, Click, Admin, Shop, CheckIn, SkinXD, Setting, Dialog, Skin, Animation2D, EasterEgg } from \"../Lwg_Template/lwg\";\r\nimport { GEnum } from \"../Lwg_Template/Global\";\r\nimport { Game } from \"../Lwg_Template/Game\";\r\nimport ADManager, { TaT } from \"../TJ/Admanager\";\r\nexport default class UIStart extends lwg.Admin.Scene {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.easterEgg_AotumanSwitch = false;\r\n    }\r\n    lwgNodeDec() {\r\n        this.LevelDisplay = this.self['LevelDisplay'];\r\n        this.LevelStyle = this.self['LevelStyle'];\r\n        ADManager.TAPoint(TaT.BtnShow, 'setbt_main');\r\n        ADManager.TAPoint(TaT.BtnShow, 'signbt_main');\r\n        ADManager.TAPoint(TaT.BtnShow, 'limitskinbt_main');\r\n        ADManager.TAPoint(TaT.BtnShow, 'startword_main');\r\n        if (Game._platform !== Game._platformTpye.Bytedance) {\r\n            this.self['P204'].visible = false;\r\n        }\r\n    }\r\n    lwgEventReg() {\r\n        EventAdmin.reg(SkinXD.EventType.acquisition, this, () => {\r\n            this.self['BtnXDSkin'].visible = false;\r\n        });\r\n        EventAdmin.regOnce(CheckIn.EventType.removeCheckBtn, this, () => {\r\n            this.self['BtnCheck'].visible = false;\r\n        });\r\n        EventAdmin.reg(EasterEgg.EventType.trigger, this, () => {\r\n            this.self['BtnAotuman'].visible = true;\r\n            this.self['EasterEgg_Aotuman'].visible = false;\r\n        });\r\n    }\r\n    lwgOnEnable() {\r\n        Skin._currentEye.name = null;\r\n        Skin._currentHead.name = null;\r\n        EventAdmin.notify(GEnum.EventType.changeHeadDecoration);\r\n        EventAdmin.notify(GEnum.EventType.changeEyeDecoration);\r\n        this.levelStyleDisplay();\r\n        if (Shop.getGoodsProperty(Shop.GoodsClass.Props, 'xiandanren', Shop.GoodsProperty.have)) {\r\n            this.self['BtnXDSkin'].visible = false;\r\n        }\r\n        if (!EasterEgg._easterEgg_1.value) {\r\n            this.self['BtnAotuman'].visible = false;\r\n        }\r\n        else {\r\n            this.self['EasterEgg_Aotuman'].visible = false;\r\n        }\r\n        CheckIn.openCheckIn();\r\n        Dialog.createVoluntarilyDialogue(150, 334, Dialog.UseWhere.scene1, 1000, 2000, this.self);\r\n        Setting.setBtnAppear();\r\n    }\r\n    lwgAdaptive() {\r\n        this.self['P204'].y = Laya.stage.height;\r\n        this.self['Guide'].y = Laya.stage.height * 0.732;\r\n        this.self['SceneContent'].y = Laya.stage.height * 0.378;\r\n    }\r\n    levelStyleDisplay() {\r\n        let location = Game._gameLevel.value % this.LevelStyle.numChildren;\r\n        for (let index = 0; index < this.LevelStyle.numChildren; index++) {\r\n            const element = this.LevelStyle.getChildAt(index);\r\n            let location0 = Number(element.name.substring(element.name.length - 1, element.name.length));\r\n            if (Game._gameLevel.value < 5) {\r\n                location0 += 1;\r\n            }\r\n            let Num = element.getChildByName('Num');\r\n            if (location0 === location) {\r\n                Num.value = Game._gameLevel.value.toString();\r\n            }\r\n            else if (location0 < location) {\r\n                Num.value = (Game._gameLevel.value - (location - location0)).toString();\r\n            }\r\n            else if (location0 > location) {\r\n                Num.value = (Game._gameLevel.value + (location0 - location)).toString();\r\n                let Pic = element.getChildByName('Pic');\r\n                Pic.skin = 'UI/GameStart/jindu_hui.png';\r\n                let Color = element.getChildByName('Color');\r\n                if (Color !== null) {\r\n                    Color.visible = false;\r\n                }\r\n                Num.skin = 'UI/Common/shuzi3.png';\r\n            }\r\n        }\r\n    }\r\n    lwgBtnClick() {\r\n        Click.on(Click.Type.largen, this.self['BtnSkin'], this, null, null, (e) => {\r\n            ADManager.TAPoint(TaT.BtnClick, 'setbt_main');\r\n            e.stopPropagation();\r\n            lwg.Admin._openScene(Admin.SceneName.UIShop);\r\n        });\r\n        Click.on(Click.Type.largen, this.self['BtnTask'], this, null, null, (e) => {\r\n            e.stopPropagation();\r\n            Admin._openScene(lwg.Admin.SceneName.UITask);\r\n        });\r\n        Click.on(Click.Type.largen, this.self['BtnCheck'], this, null, null, (e) => {\r\n            ADManager.TAPoint(TaT.BtnClick, 'signbt_main');\r\n            e.stopPropagation();\r\n            lwg.Admin._openScene(Admin.SceneName.UICheckIn);\r\n        });\r\n        Click.on(Click.Type.largen, this.self['BtnAotuman'], this, null, null, (e) => {\r\n            e.stopPropagation();\r\n            lwg.Admin._openScene(Admin.SceneName.UIEasterEgg);\r\n        });\r\n        Click.on(Click.Type.largen, this.self['BtnXDSkin'], this, this.btnXDSkinDown, null, this.btnXDSkinUp);\r\n        Click.on(Click.Type.largen, this.self['Background'], this, () => {\r\n            ADManager.TAPoint(TaT.BtnClick, 'startword_main');\r\n            Admin._openScene(lwg.Admin.SceneName.UISkinTry, null, this.self);\r\n        });\r\n    }\r\n    btnXDSkinDown() {\r\n    }\r\n    btnXDSkinUp() {\r\n        lwg.Admin._openScene(Admin.SceneName.UISkinXD);\r\n        ADManager.TAPoint(TaT.BtnClick, 'limitskinbt_main');\r\n    }\r\n    onStageMouseMove(event) {\r\n        if (this.easterEgg_AotumanSwitch && !EasterEgg._easterEgg_1.value) {\r\n            this.self.addChild(this.self['Aotuman']);\r\n            this.self['Aotuman'].x = event.stageX;\r\n            this.self['Aotuman'].y = event.stageY;\r\n            let point = new Laya.Point(this.self['EasterEgg_Aotuman'].x, this.self['EasterEgg_Aotuman'].y);\r\n            if (point.distance(event.stageX, event.stageY) < 50) {\r\n                this.aotumanBack();\r\n                let time = 100;\r\n                let delayed = 100;\r\n                let fxClamp = this.self['Clamp'].x;\r\n                let fyClamp = this.self['Clamp'].y;\r\n                let frRightClamp = this.self['RightClamp'].rotation;\r\n                let frLeftClamp = this.self['LeftClamp'].rotation;\r\n                let fxPicAotuman = this.self['PicAotuman'].x;\r\n                let fyPicAotuman = this.self['PicAotuman'].y;\r\n                let frPicAotuman = this.self['PicAotuman'].rotation;\r\n                Animation2D.simple_Rotate(this.self['RightClamp'], 0, -19, time * 0.5);\r\n                Animation2D.simple_Rotate(this.self['LeftClamp'], 0, 19, time * 0.5, 0, () => {\r\n                    Animation2D.move_Simple(this.self['Clamp'], fxClamp, fyClamp, fxClamp, fyClamp - 200, time * 2, delayed * 4);\r\n                    Animation2D.drop_KickBack(this.self['PicAotuman'], 1, this.self['PicAotuman'].y, this.self['PicAotuman'].y + 600, 50, time * 8, 0, () => {\r\n                        this.self['Clamp'].x = fxClamp;\r\n                        this.self['Clamp'].y = fyClamp;\r\n                        this.self['RightClamp'].rotation = frRightClamp;\r\n                        this.self['LeftClamp'].rotation = frLeftClamp;\r\n                        this.self['PicAotuman'].x = fxPicAotuman;\r\n                        this.self['PicAotuman'].y = fyPicAotuman;\r\n                        this.self['PicAotuman'].rotation = frPicAotuman;\r\n                    });\r\n                    Animation2D.simple_Rotate(this.self['PicAotuman'], 0, 360, time * 6, 0, () => {\r\n                        Admin._openScene(Admin.SceneName.UIEasterEgg);\r\n                    });\r\n                });\r\n            }\r\n        }\r\n    }\r\n    onStageMouseUp() {\r\n        this.aotumanBack();\r\n    }\r\n    aotumanBack() {\r\n        this.easterEgg_AotumanSwitch = false;\r\n        this.self['BtnXDSkin'].addChild(this.self['Aotuman']);\r\n        this.self['Aotuman'].x = 77;\r\n        this.self['Aotuman'].y = 63;\r\n    }\r\n    lwgOnDisable() {\r\n        Gold.GoldNode.visible = false;\r\n        Setting.setBtnVinish();\r\n    }\r\n}\r\n",
  "references": [
    "D:/Game/project/CutHair/Project/CutHair/src/script/Lwg_Template/lwg.ts",
    "D:/Game/project/CutHair/Project/CutHair/src/script/Lwg_Template/Global.ts",
    "D:/Game/project/CutHair/Project/CutHair/src/script/Lwg_Template/Game.ts",
    "D:/Game/project/CutHair/Project/CutHair/src/script/TJ/Admanager.ts"
  ]
}
