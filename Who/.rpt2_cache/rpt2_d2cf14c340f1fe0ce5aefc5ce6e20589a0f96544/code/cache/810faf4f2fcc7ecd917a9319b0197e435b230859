{
  "code": "import { Admin, Click, EventAdmin, Tools } from \"../Frame/lwg\";\r\nimport { Game3D } from \"./Game3D\";\r\nexport default class GameScene extends Admin.Scene {\r\n    lwgOnAwake() {\r\n    }\r\n    lwgNodeDec() {\r\n        this.OptionParent = this.self['OptionParent'];\r\n    }\r\n    lwgEventReg() {\r\n        EventAdmin.reg(Game3D.EventType.nextRound, this, () => {\r\n        });\r\n        EventAdmin.reg(EventAdmin.EventType.victory, this, () => {\r\n            Admin._gameSwitch = false;\r\n            Admin._openScene(Admin.SceneName.UIVictory, this.self);\r\n        });\r\n        EventAdmin.reg(Game3D.EventType.oppositeAnswer, this, (question, yesOrNo, cardName) => {\r\n            Tools.node_RemoveAllChildren(this.OptionParent);\r\n            this.createOppositeQuestion(question, yesOrNo, cardName);\r\n        });\r\n        EventAdmin.reg(Game3D.EventType.meAnswer, this, (questionArr) => {\r\n            this.createQuestion(questionArr);\r\n        });\r\n    }\r\n    lwgOnEnable() {\r\n        EventAdmin.notify(Game3D.EventType.opening);\r\n    }\r\n    createQuestion(questionArr) {\r\n        if (questionArr.length < 3) {\r\n            this.createOption(this.self['OptionParent'], this.self['OptionParent'].width / 2, this.self['OptionParent'].height / 2, questionArr[0], false);\r\n        }\r\n        else {\r\n            for (let index = 0; index < questionArr.length; index++) {\r\n                let x, y;\r\n                switch (index) {\r\n                    case 0:\r\n                        x = this.self['OptionParent'].width * 0.25;\r\n                        y = this.self['OptionParent'].height * 0.25;\r\n                        break;\r\n                    case 1:\r\n                        x = this.self['OptionParent'].width * 0.75;\r\n                        y = this.self['OptionParent'].height * 0.25;\r\n                        break;\r\n                    case 2:\r\n                        x = this.self['OptionParent'].width * 0.25;\r\n                        y = this.self['OptionParent'].height * 0.75;\r\n                        break;\r\n                    case 3:\r\n                        x = this.self['OptionParent'].width * 0.75;\r\n                        y = this.self['OptionParent'].height * 0.75;\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n                this.createOption(this.self['OptionParent'], x, y, questionArr[index], true);\r\n            }\r\n        }\r\n    }\r\n    createOption(parent, x, y, question, click) {\r\n        let Option = Laya.Pool.getItemByCreateFun('Option', this.Option.create, this.Option);\r\n        let Content = Option.getChildByName('Content');\r\n        Content.text = question;\r\n        parent.addChild(Option);\r\n        Option.pos(x, y);\r\n        if (click) {\r\n            Click.on(Click.Type.largen, Option, this, null, null, () => {\r\n                EventAdmin.notify(Game3D.EventType.judgeQuestion, question);\r\n            });\r\n        }\r\n        return Option;\r\n    }\r\n    createOppositeQuestion(question, yesOrNo, cardName) {\r\n        let GuessCard = Laya.Pool.getItemByCreateFun('GuessCard', this.GuessCard.create, this.GuessCard);\r\n        this.self.addChild(GuessCard);\r\n        GuessCard.pos(360, 576);\r\n        let Question = GuessCard.getChildByName('Question');\r\n        Question.text = question;\r\n        let CardName = GuessCard.getChildByName('CardName');\r\n        CardName.text = cardName;\r\n        let BtnYes = GuessCard.getChildByName('BtnYes');\r\n        Click.on(Click.Type.noEffect, BtnYes, this, null, null, () => {\r\n            if (yesOrNo) {\r\n                GuessCard.removeSelf();\r\n            }\r\n        });\r\n        let BtnNo = GuessCard.getChildByName('BtnNo');\r\n        Click.on(Click.Type.noEffect, BtnNo, this, null, null, () => {\r\n            console.log('不可以乱回答！');\r\n        });\r\n    }\r\n    onStageMouseDown(e) {\r\n        let hitResult = Tools.d3_rayScanning(Game3D.MainCamera, Game3D.Scene3D, new Laya.Vector2(e.stageX, e.stageY))[0];\r\n        let sprite3D;\r\n        if (hitResult) {\r\n            sprite3D = hitResult.collider.owner;\r\n            EventAdmin.notify(Game3D.EventType.judgeClickCard, sprite3D);\r\n        }\r\n    }\r\n    lwgBtnClick() {\r\n    }\r\n}\r\n",
  "references": [
    "D:/Game/project/Who/Project/Who/src/script/Frame/lwg.ts",
    "D:/Game/project/Who/Project/Who/src/script/Game/Game3D.ts"
  ]
}
