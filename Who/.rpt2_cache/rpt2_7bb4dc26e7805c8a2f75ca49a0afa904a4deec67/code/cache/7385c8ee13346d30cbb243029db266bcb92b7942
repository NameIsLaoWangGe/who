{
  "code": "import ADManager from \"../TJ/Admanager\";\r\nimport { lwg, Animation2D, CheckIn, Gold, Click, Effects, Setting } from \"../Lwg_Template/lwg\";\r\nexport default class UICheckIn extends CheckIn.CheckInScene {\r\n    checkInNodeDec() {\r\n        if (CheckIn._lastCheckDate.date == (new Date).getDate()) {\r\n            this.self['BtnTenGet'].visible = false;\r\n            this.self['BtnGet'].visible = false;\r\n            this.self['Select'].visible = false;\r\n        }\r\n    }\r\n    checkInOnEnable() {\r\n        Setting.setBtnVinish();\r\n        let ChinkTip = this.self['BtnSeven'].getChildByName('ChinkTip');\r\n        ChinkTip.visible = false;\r\n    }\r\n    checkList_Update(cell, index) {\r\n        let dataSource = cell.dataSource;\r\n        let Pic_Board = cell.getChildByName('Pic_Board');\r\n        let Pic_Gold = cell.getChildByName('Pic_Gold');\r\n        let Num = cell.getChildByName('Num');\r\n        let ChinkTip = cell.getChildByName('ChinkTip');\r\n        let DayNum = cell.getChildByName('DayNum');\r\n        if (dataSource[CheckIn.CheckProPerty.checkInState]) {\r\n            Pic_Gold.visible = false;\r\n            Num.visible = false;\r\n            ChinkTip.visible = true;\r\n            Pic_Board.skin = 'UI/Common/kuang1.png';\r\n        }\r\n        else {\r\n            Pic_Gold.visible = true;\r\n            Num.visible = true;\r\n            Num.text = dataSource[CheckIn.CheckProPerty.rewardNum];\r\n            ChinkTip.visible = false;\r\n            Pic_Board.skin = 'UI/Common/kuang2.png';\r\n        }\r\n        switch (dataSource[CheckIn.CheckProPerty.name]) {\r\n            case 'day1':\r\n                DayNum.text = '第一天';\r\n                break;\r\n            case 'day2':\r\n                DayNum.text = '第二天';\r\n                break;\r\n            case 'day3':\r\n                DayNum.text = '第三天';\r\n                break;\r\n            case 'day4':\r\n                DayNum.text = '第四天';\r\n                break;\r\n            case 'day5':\r\n                DayNum.text = '第五天';\r\n                break;\r\n            case 'day6':\r\n                DayNum.text = '第六天';\r\n                break;\r\n            case 'day7':\r\n                DayNum.text = '第七天';\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    checkInBtnClick() {\r\n        lwg.Click.on('largen', this.self['BtnGet'], this, null, null, this.btnGetUp, null);\r\n        lwg.Click.on('largen', this.self['BtnTenGet'], this, null, null, this.btnTenGetUp, null);\r\n        lwg.Click.on(Click.Type.noEffect, this.self['BtnSelect'], this, null, null, this.btnSelectUp, null);\r\n        lwg.Click.on('largen', this.self['BtnBack'], this, null, null, this.btnBackUp, null);\r\n    }\r\n    btnOffClick() {\r\n        lwg.Click.off('largen', this.self['BtnGet'], this, null, null, this.btnGetUp, null);\r\n        lwg.Click.off('largen', this.self['BtnTenGet'], this, null, null, this.btnTenGetUp, null);\r\n        lwg.Click.off(Click.Type.noEffect, this.self['BtnSelect'], this, null, null, this.btnSelectUp, null);\r\n        lwg.Click.off('largen', this.self['BtnBack'], this, null, null, this.btnBackUp, null);\r\n    }\r\n    btnTenGetUp() {\r\n        ADManager.ShowReward(() => {\r\n            this.btnGetUpFunc(3);\r\n        });\r\n    }\r\n    btnBackUp(event) {\r\n        this.self.close();\r\n    }\r\n    btnGetUp(event) {\r\n        this.btnGetUpFunc(1);\r\n    }\r\n    btnGetUpFunc(number) {\r\n        this.btnOffClick();\r\n        let index = CheckIn._checkInNum.number;\r\n        let target;\r\n        if (index < 6) {\r\n            target = CheckIn._checkList.getCell(index);\r\n        }\r\n        else {\r\n            target = this.self['BtnSeven'];\r\n        }\r\n        Animation2D.swell_shrink(target, 1, 1.1, 100, 0, () => {\r\n            let arr = [[111, 191], [296, 191], [486, 191], [111, 394], [296, 394], [486, 394], [306, 597\r\n                ]];\r\n            Effects.createExplosion_Rotate(this.self['SceneContent'], 25, arr[index][0], arr[index][1], 'star', 10, 15);\r\n            let rewardNum = CheckIn.todayCheckIn_7Days();\r\n            if (CheckIn._checkInNum.number === 7) {\r\n                let ChinkTip = this.self['BtnSeven'].getChildByName('ChinkTip');\r\n                ChinkTip.visible = true;\r\n                let Num = this.self['BtnSeven'].getChildByName('Num');\r\n                Num.visible = false;\r\n                let Pic_Gold = this.self['BtnSeven'].getChildByName('Pic_Gold');\r\n                Pic_Gold.visible = false;\r\n                this.self['BtnSeven'].skin = 'UI/Common/kuang1.png';\r\n            }\r\n            Gold.getGoldAni_Heap(Laya.stage, 15, 88, 69, 'UI/GameStart/qian.png', new Laya.Point(Laya.stage.width / 2, Laya.stage.height / 2), new Laya.Point(Gold.GoldNode.x - 80, Gold.GoldNode.y), null, () => {\r\n                Gold.addGold(rewardNum * number);\r\n                this.self.close();\r\n            });\r\n        });\r\n    }\r\n    btnSelectUp() {\r\n        if (this.self['Dot'].visible) {\r\n            this.self['Dot'].visible = false;\r\n        }\r\n        else {\r\n            this.self['Dot'].visible = true;\r\n        }\r\n    }\r\n    checkInOnUpdate() {\r\n        if (CheckIn._lastCheckDate.date !== (new Date).getDate()) {\r\n            if (this.self['Dot'].visible) {\r\n                this.self['BtnGet'].visible = false;\r\n                this.self['BtnTenGet'].visible = true;\r\n            }\r\n            else {\r\n                this.self['BtnGet'].visible = true;\r\n                this.self['BtnTenGet'].visible = false;\r\n            }\r\n        }\r\n    }\r\n    checkInOnDisable() {\r\n        Setting.setBtnAppear();\r\n    }\r\n}\r\n",
  "references": [
    "D:/Game/project/CutHair/Project/CutHair/src/script/TJ/Admanager.ts",
    "D:/Game/project/CutHair/Project/CutHair/src/script/Lwg_Template/lwg.ts"
  ]
}
