{
  "code": "import { lwg, Admin, Shop, Click, EventAdmin } from \"../Lwg_Template/lwg\";\r\nimport ADManager from \"../TJ/Admanager\";\r\nimport { GEnum } from \"../Lwg_Template/Global\";\r\nexport default class UISkinTry extends Admin.Scene {\r\n    lwgOnAwake() {\r\n        this.randomNoHave();\r\n    }\r\n    randomNoHave() {\r\n        let arrOther = Shop.getwayGoldArr(Shop.GoodsClass.Other, undefined, true);\r\n        let arrProp = Shop.getwayGoldArr(Shop.GoodsClass.Props, undefined, true);\r\n        let ele;\r\n        if (Math.floor(Math.random() * 2) === 1) {\r\n            ele = arrOther[Math.floor(Math.random() * arrOther.length)];\r\n            this.self['SkinPic'].skin = 'UI/Shop/Other/' + ele.name + '.png';\r\n            this.beforeTryOtherName = Shop._currentOther.name;\r\n            Shop._currentOther.name = ele.name;\r\n        }\r\n        else {\r\n            ele = arrProp[Math.floor(Math.random() * arrProp.length)];\r\n            this.self['SkinPic'].skin = 'UI/Shop/Props/' + ele.name + '.png';\r\n            this.beforeTryPropName = Shop._currentProp.name;\r\n            Shop._currentProp.name = ele.name;\r\n        }\r\n    }\r\n    lwgBtnClick() {\r\n        Click.on(lwg.Click.Type.largen, this.self['BtnNo'], this, null, null, this.btnNoUp, null);\r\n        Click.on(lwg.Click.Type.largen, this.self['BtnGet'], this, null, null, this.btnGetUp, null);\r\n    }\r\n    btnGetUp(event) {\r\n        ADManager.ShowReward(() => {\r\n            Admin._openScene(Admin.SceneName.UIOperation, null, this.self);\r\n            EventAdmin.notify(GEnum.EventType.changeOther);\r\n            EventAdmin.notify(GEnum.EventType.changeProp);\r\n        });\r\n    }\r\n    btnNoUp(event) {\r\n        if (this.beforeTryOtherName) {\r\n            Shop._currentOther.name = this.beforeTryOtherName;\r\n        }\r\n        if (this.beforeTryPropName) {\r\n            Shop._currentProp.name = this.beforeTryPropName;\r\n        }\r\n        Admin._openScene(Admin.SceneName.UIOperation, null, this.self);\r\n        EventAdmin.notify(GEnum.EventType.changeOther);\r\n        EventAdmin.notify(GEnum.EventType.changeProp);\r\n    }\r\n    lwgOnDisable() {\r\n        if (this.beforeTryOtherName) {\r\n            Shop._currentOther.name = this.beforeTryOtherName;\r\n        }\r\n        if (this.beforeTryPropName) {\r\n            Shop._currentProp.name = this.beforeTryPropName;\r\n        }\r\n    }\r\n}\r\n",
  "references": [
    "D:/Game/project/CutHair/Project/CutHair/src/script/Lwg_Template/lwg.ts",
    "D:/Game/project/CutHair/Project/CutHair/src/script/TJ/Admanager.ts",
    "D:/Game/project/CutHair/Project/CutHair/src/script/Lwg_Template/Global.ts"
  ]
}
