{
  "code": "import { Admin, DrawCard, Click } from \"../Frame/lwg\";\r\nexport default class UIDrawCard extends DrawCard.DrawCardScene {\r\n    lwgOnAwake() {\r\n    }\r\n    lwgOnEnable() {\r\n    }\r\n    lwgBtnClick() {\r\n        Click.on(Click.Type.largen, this.self['BtnBack'], this, null, null, () => {\r\n            Admin._openScene(Admin.SceneName.UIStart, this.self);\r\n        });\r\n        Click.on(Click.Type.noEffect, this.self['Surface'], this, (e) => {\r\n            if (!this.self.getChildByName('DrawSp')) {\r\n                this.self['Drawlength'] = 0;\r\n                let DrawSp = new Laya.Sprite();\r\n                this.self.addChild(DrawSp);\r\n                DrawSp.name = 'DrawSp';\r\n                DrawSp.pos(0, 0);\r\n                this.self['DrawSp'] = DrawSp;\r\n            }\r\n            this.self['DrawPosArr'] = new Laya.Point(e.stageX, e.stageY);\r\n        }, (e) => {\r\n            let Img = this.self['Surface'];\r\n            let globalPos = Img.localToGlobal(new Laya.Point(Img.width / 2, Img.height / 2));\r\n            if (new Laya.Point(e.stageX, e.stageY).distance(globalPos.x, globalPos.y) > Img.width / 2) {\r\n                this.self['DrawPosArr'] = null;\r\n                return;\r\n            }\r\n            if (this.self['DrawPosArr']) {\r\n                this.self['DrawSp'].graphics.drawLine(this.self['DrawPosArr'].x, this.self['DrawPosArr'].y, e.stageX, e.stageY, \"#000000\", 8);\r\n                this.self['DrawSp'].graphics.drawCircle(e.stageX, e.stageY, 4, \"#000000\");\r\n                this.self['Drawlength'] += this.self['DrawPosArr'].distance(e.stageX, e.stageY);\r\n                this.self['DrawPosArr'] = new Laya.Point(e.stageX, e.stageY);\r\n            }\r\n        }, () => {\r\n            if (this.self['Drawlength'] > 3000) {\r\n                console.log('画线长度够了，弹出十连抽！');\r\n                this.self.getChildByName('DrawSp').removeSelf();\r\n            }\r\n            this.self['DrawPosArr'] = null;\r\n        }, () => {\r\n            this.self['DrawPosArr'] = null;\r\n        });\r\n    }\r\n}\r\n",
  "references": [
    "D:/Game/project/Who/Project/Who/src/script/Frame/lwg.ts"
  ]
}
