{
  "code": "import { CheckIn, Admin, Setting, Click, Animation2D, Effects, Gold, EventAdmin, SkinQualified } from \"../Frame/lwg\";\r\nimport ADManager, { TaT } from \"../../TJ/Admanager\";\r\nexport default class UICheckIn extends CheckIn.CheckInScene {\r\n    lwgOnAwake() {\r\n        if (CheckIn._lastCheckDate.date == (new Date).getDate()) {\r\n            this.self['WeChat'].visible = false;\r\n            this.self['OPPO'].visible = false;\r\n        }\r\n        else {\r\n            switch (Admin._platform) {\r\n                case Admin._platformTpye.OPPO:\r\n                    this.self['OPPO'].visible = true;\r\n                    this.self['WeChat'].visible = false;\r\n                    break;\r\n                case Admin._platformTpye.WeChat:\r\n                    this.self['OPPO'].visible = false;\r\n                    this.self['WeChat'].visible = true;\r\n                    break;\r\n                case Admin._platformTpye.Bytedance:\r\n                    this.self['OPPO'].visible = false;\r\n                    this.self['WeChat'].visible = true;\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n        Setting.setBtnVinish();\r\n        Gold.goldVinish();\r\n    }\r\n    lwgEventReg() {\r\n        EventAdmin.reg('seven', this, () => {\r\n            let ChinkTip = this.self['Seven'].getChildByName('ChinkTip');\r\n            let Num = this.self['Seven'].getChildByName('Num');\r\n            let Pic_Gold = this.self['Seven'].getChildByName('Pic_Gold');\r\n            if (CheckIn._checkInNum.number === 7) {\r\n                ChinkTip.visible = true;\r\n                Num.visible = false;\r\n                Pic_Gold.visible = false;\r\n            }\r\n            else {\r\n                ChinkTip.visible = false;\r\n            }\r\n        });\r\n    }\r\n    lwgOnEnable() {\r\n        ADManager.TAPoint(TaT.BtnShow, 'UICheckIn_BtnThreeGet_WeChat');\r\n        EventAdmin.notify('seven');\r\n        Gold.GoldNode = this.self['GoldNode'];\r\n        let Num2 = this.self['GoldNode'].getChildByName('Num');\r\n        Num2.text = Gold._num.value.toString();\r\n    }\r\n    checkList_Update(cell, index) {\r\n        let dataSource = cell.dataSource;\r\n        let Pic_Board = cell.getChildByName('Pic_Board');\r\n        let Pic_Gold = cell.getChildByName('Pic_Gold');\r\n        let Num = cell.getChildByName('Num');\r\n        let ChinkTip = cell.getChildByName('ChinkTip');\r\n        let DayNum = cell.getChildByName('DayNum');\r\n        if (dataSource[CheckIn.CheckProPerty.checkInState]) {\r\n            Pic_Gold.visible = false;\r\n            Num.visible = false;\r\n            ChinkTip.visible = true;\r\n        }\r\n        else {\r\n            Pic_Gold.visible = true;\r\n            Num.visible = true;\r\n            Num.text = dataSource[CheckIn.CheckProPerty.rewardNum];\r\n            ChinkTip.visible = false;\r\n        }\r\n        switch (dataSource[CheckIn.CheckProPerty.name]) {\r\n            case 'day1':\r\n                DayNum.text = '第一天';\r\n                break;\r\n            case 'day2':\r\n                DayNum.text = '第二天';\r\n                break;\r\n            case 'day3':\r\n                DayNum.text = '第三天';\r\n                break;\r\n            case 'day4':\r\n                DayNum.text = '第四天';\r\n                break;\r\n            case 'day5':\r\n                DayNum.text = '第五天';\r\n                break;\r\n            case 'day6':\r\n                DayNum.text = '第六天';\r\n                break;\r\n            case 'day7':\r\n                DayNum.text = '第七天';\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    lwgBtnClick() {\r\n        Click.on('largen', this.self['BtnGet_WeChat'], this, null, null, this.btnGetUp);\r\n        Click.on('largen', this.self['BtnThreeGet_WeChat'], this, null, null, this.btnThreeGetUp);\r\n        Click.on(Click.Type.noEffect, this.self['Select_WeChat'], this, null, null, this.btnSelectUp);\r\n        Click.on(Click.Type.largen, this.self['BtnGet_OPPO'], this, null, null, this.btnGetUp);\r\n        Click.on(Click.Type.largen, this.self['BtnThreeGet_OPPO'], this, null, null, this.btnThreeGetUp);\r\n        Click.on('largen', this.self['BtnBack'], this, null, null, this.btnBackUp);\r\n    }\r\n    btnBackUp() {\r\n        Admin._closeScene(this.self, () => {\r\n            if (CheckIn._fromWhich == Admin.SceneName.UILoding) {\r\n                if (SkinQualified._adsNum.value < 7) {\r\n                    Admin._openScene(Admin.SceneName.UISkinQualified);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    btnThreeGetUp() {\r\n        ADManager.ShowReward(() => {\r\n            ADManager.TAPoint(TaT.BtnClick, 'UICheckIn_BtnThreeGet_WeChat');\r\n            this.btnGetUpFunc(3);\r\n        });\r\n    }\r\n    btnGetUp() {\r\n        if (Admin._platform === Admin._platformTpye.Bytedance) {\r\n            if (this.self['Dot'].visible) {\r\n                ADManager.ShowReward(() => {\r\n                    ADManager.TAPoint(TaT.BtnClick, 'UICheckIn_BtnThreeGet_WeChat');\r\n                    this.btnGetUpFunc(3);\r\n                });\r\n            }\r\n            else {\r\n                this.btnGetUpFunc(1);\r\n            }\r\n        }\r\n        else {\r\n            this.btnGetUpFunc(1);\r\n        }\r\n    }\r\n    btnGetUpFunc(number) {\r\n        Admin._clickLock.switch = true;\r\n        let index = CheckIn._checkInNum.number;\r\n        let target;\r\n        if (index < 6) {\r\n            target = CheckIn._checkList.getCell(index);\r\n        }\r\n        else {\r\n            target = this.self['Seven'];\r\n        }\r\n        Animation2D.swell_shrink(target, 1, 1.1, 100, 0, () => {\r\n            let arr = [[111, 191], [296, 191], [486, 191], [111, 394], [296, 394], [486, 394], [306, 597\r\n                ]];\r\n            Effects.createExplosion_Rotate(this.self['SceneContent'], 25, arr[index][0], arr[index][1], 'star', 10, 15);\r\n            let rewardNum = CheckIn.todayCheckIn_7Days();\r\n            EventAdmin.notify('seven');\r\n            Gold.getGoldAni_Heap(Laya.stage, 15, 88, 69, 'Game/UI/Common/jinbi.png', new Laya.Point(Laya.stage.width / 2, Laya.stage.height / 2), new Laya.Point(Gold.GoldNode.x - 80, Gold.GoldNode.y), null, () => {\r\n                Gold.addGold(rewardNum * number);\r\n                Laya.timer.once(500, this, () => {\r\n                    this.btnBackUp();\r\n                });\r\n            });\r\n        });\r\n    }\r\n    btnSelectUp() {\r\n        if (this.self['Dot'].visible) {\r\n            this.self['Dot'].visible = false;\r\n        }\r\n        else {\r\n            this.self['Dot'].visible = true;\r\n        }\r\n    }\r\n    lwgOnUpdate() {\r\n        if (!CheckIn._todayCheckIn.bool) {\r\n            switch (Admin._platform) {\r\n                case Admin._platformTpye.WeChat:\r\n                    if (this.self['Dot'].visible) {\r\n                        this.self['BtnGet_WeChat'].visible = false;\r\n                        this.self['BtnThreeGet_WeChat'].visible = true;\r\n                    }\r\n                    else {\r\n                        this.self['BtnGet_WeChat'].visible = true;\r\n                        this.self['BtnThreeGet_WeChat'].visible = false;\r\n                    }\r\n                    break;\r\n                case Admin._platformTpye.Bytedance:\r\n                    this.self['BtnGet_WeChat'].visible = true;\r\n                    this.self['BtnThreeGet_WeChat'].visible = false;\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n    lwgOnDisable() {\r\n        Setting.setBtnAppear();\r\n        Gold.createGoldNode(629, 174);\r\n        Admin._clickLock.switch = false;\r\n    }\r\n}\r\n",
  "references": [
    "D:/Game/project/Who/Project/Who/src/script/Frame/lwg.ts",
    "D:/Game/project/Who/Project/Who/src/TJ/Admanager.ts"
  ]
}
