{
  "code": "import ADManager, { TaT } from \"../../TJ/Admanager\";\r\nimport { Admin, Click, Gold, Share, EventAdmin } from \"../Frame/lwg\";\r\nimport RecordManager from \"../../TJ/RecordManager\";\r\nexport default class UIShare extends Share.ShareScene {\r\n    lwgOnAwake() {\r\n        Gold.goldAppear();\r\n    }\r\n    lwgOnEnable() {\r\n        ADManager.TAPoint(TaT.BtnShow, 'UIShare_BtnShare');\r\n    }\r\n    lwgBtnClick() {\r\n        Click.on(Click.Type.noEffect, this.self['BtnShare'], this, null, null, this.btnShareUp);\r\n        Click.on(Click.Type.noEffect, this.self['Background'], this, null, null, this.btnShareUp);\r\n        Click.on(Click.Type.largen, this.self['BtnClose'], this, null, null, this.btnNoShareUp);\r\n    }\r\n    btnShareUp() {\r\n        console.log('分享！');\r\n        if (Share._fromWhich == Admin.SceneName.UIDrawCard) {\r\n            ADManager.TAPoint(TaT.BtnClick, 'UIDrawCard_BtnShare');\r\n        }\r\n        else if (Share._fromWhich == Admin.SceneName.UIVictory) {\r\n            ADManager.TAPoint(TaT.BtnClick, 'UIShare_BtnShare');\r\n        }\r\n        else if (Share._fromWhich == Admin.SceneName.UIDefeated) {\r\n        }\r\n        RecordManager._share('award', () => {\r\n            Gold.getGoldAni_Heap(Laya.stage, 15, 88, 69, 'Game/UI/Common/jinbi.png', new Laya.Point(Laya.stage.width / 2, Laya.stage.height / 2), new Laya.Point(Gold.GoldNode.x - 80, Gold.GoldNode.y), null, () => {\r\n                Gold.addGold(300);\r\n                this.shareFunc();\r\n            });\r\n        });\r\n    }\r\n    shareFunc() {\r\n        if (Share._fromWhich == Admin.SceneName.UIDrawCard) {\r\n            ADManager.TAPoint(TaT.BtnShow, 'UIDrawCard_BtnShare');\r\n            Admin._closeScene(this.self);\r\n            EventAdmin.notify(Admin.SceneName.UIShare + Admin.SceneName.UIDrawCard);\r\n        }\r\n        else if (Share._fromWhich == Admin.SceneName.UIVictory) {\r\n            ADManager.TAPoint(TaT.BtnShow, 'UIShare_BtnShare');\r\n            Admin._openScene(Admin.SceneName.UIVictoryBox, this.self);\r\n        }\r\n        else if (Share._fromWhich == Admin.SceneName.UIDefeated) {\r\n            Admin._openScene(Admin.SceneName.UIDefeated, this.self);\r\n        }\r\n    }\r\n    btnNoShareUp(e) {\r\n        e.stopPropagation();\r\n        this.shareFunc();\r\n    }\r\n    lwgOnUpdate() {\r\n        Admin._clickLock.switch = false;\r\n    }\r\n}\r\n",
  "references": [
    "D:/Game/project/Who/Project/Who/src/TJ/Admanager.ts",
    "D:/Game/project/Who/Project/Who/src/script/Frame/lwg.ts",
    "D:/Game/project/Who/Project/Who/src/TJ/RecordManager.ts"
  ]
}
